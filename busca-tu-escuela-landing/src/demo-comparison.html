<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo - Modal de Comparaci√≥n Profesional</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="styles/result.css">
    <style>
        body {
            background: #f8fafc;
            padding: 2rem 0;
        }
        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .demo-header {
            background: linear-gradient(135deg, #4e7184 0%, #6b8ea0 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }
        .demo-content {
            padding: 2rem;
        }
        .tab-content {
            margin-top: 1.5rem;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="demo-header">
            <h2><i class="bi bi-graph-up-arrow me-3"></i>Demo: Comparaci√≥n Profesional de Escuelas</h2>
            <p class="mb-0">Vista previa de las pesta√±as Academic y Detalles del modal de comparaci√≥n</p>
        </div>
        
        <div class="demo-content">
            <!-- Navigation tabs -->
            <div class="comparison-tabs">
                <div class="tabs-nav">
                    <button class="tab-btn active" data-tab="overview">
                        <i class="bi bi-eye"></i>
                        Vista General
                    </button>
                    <button class="tab-btn" data-tab="academics">
                        <i class="bi bi-mortarboard"></i>
                        Acad√©mico
                    </button>
                    <button class="tab-btn" data-tab="details">
                        <i class="bi bi-list-check"></i>
                        Detalles
                    </button>
                </div>
            </div>

            <!-- Tab content -->
            <div class="tab-content">
                <!-- Vista General -->
                <div class="tab-panel active" id="tab-overview">
                    <div class="section-header">
                        <h5>Resumen Comparativo</h5>
                        <p>Vista r√°pida de las escuelas seleccionadas</p>
                    </div>
                    
                    <div class="comparison-grid" id="comparisonGrid">
                        <!-- Se genera din√°micamente -->
                    </div>
                </div>

                <!-- Tab Acad√©mico -->
                <div class="tab-panel" id="tab-academics">
                    <div class="section-header">
                        <h5>Comparaci√≥n Acad√©mica</h5>
                        <p>Rendimiento educativo lado a lado</p>
                    </div>
                    
                    <!-- Comparaci√≥n acad√©mica visual -->
                    <div class="academic-visual-comparison">
                        <div class="academic-comparison-grid" id="academicGrid">
                            <!-- Grid de comparaci√≥n acad√©mica -->
                        </div>
                        
                        <!-- M√©tricas clave comparativas -->
                        <div class="key-metrics">
                            <h6 class="metrics-title">M√©tricas Clave</h6>
                            <div class="metrics-comparison-row">
                                <div class="metric-label">Calificaci√≥n General</div>
                                <div class="metric-bars" id="ratingBars">
                                    <!-- Barras de calificaci√≥n -->
                                </div>
                            </div>
                            
                            <div class="metrics-comparison-row">
                                <div class="metric-label">Nivel Acad√©mico</div>
                                <div class="metric-bars" id="levelBars">
                                    <!-- Barras de nivel -->
                                </div>
                            </div>
                            
                            <div class="metrics-comparison-row">
                                <div class="metric-label">Programas Especiales</div>
                                <div class="metric-bars" id="programBars">
                                    <!-- Barras de programas -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tab Detalles -->
                <div class="tab-panel" id="tab-details">
                    <div class="section-header">
                        <h5>Detalles Lado a Lado</h5>
                        <p>Comparaci√≥n detallada de caracter√≠sticas</p>
                    </div>
                    
                    <!-- Tabla de comparaci√≥n -->
                    <div class="clean-comparison-table">
                        <div class="comparison-features" id="featuresComparison">
                            <!-- Filas de comparaci√≥n -->
                        </div>
                    </div>
                    
                    <!-- Servicios disponibles -->
                    <div class="services-visual-comparison">
                        <h6 class="services-header">
                            <i class="bi bi-check2-square"></i>
                            Servicios Disponibles
                        </h6>
                        <div class="services-comparison-grid" id="servicesComparisonGrid">
                            <!-- Grid de servicios -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Datos de prueba
        const demoSchools = [
            {
                id: 1,
                name: "Colegio San Jos√©",
                type: "Privado",
                gender: "Mixto",
                language: "Espa√±ol",
                rating: "4.8",
                stars: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ",
                location: "San Juan"
            },
            {
                id: 2,
                name: "Academia Biling√ºe del Norte",
                type: "Privado",
                gender: "Mixto", 
                language: "Biling√ºe",
                rating: "4.6",
                stars: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ",
                location: "Bayam√≥n"
            }
        ];

        // Utilidades
        const $ = s => document.querySelector(s);
        const $$ = s => Array.from(document.querySelectorAll(s));

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Inicializando demo de comparaci√≥n');
            
            // Generar contenido
            generateOverviewContent();
            generateAcademicComparison(demoSchools);
            generateKeyMetricsComparison(demoSchools);
            generateDetailsComparison(demoSchools);
            generateServicesComparison(demoSchools);
            
            // Inicializar tabs
            initTabs();
            
            console.log('‚úÖ Demo inicializado correctamente');
        });

        // Sistema de pesta√±as
        function initTabs() {
            const tabBtns = $$('.tab-btn');
            const tabPanels = $$('.tab-panel');
            
            tabBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const targetTab = btn.dataset.tab;
                    
                    // Remover clase active
                    tabBtns.forEach(b => b.classList.remove('active'));
                    tabPanels.forEach(p => p.classList.remove('active'));
                    
                    // Activar tab correspondiente
                    btn.classList.add('active');
                    const targetPanel = document.getElementById(`tab-${targetTab}`);
                    if(targetPanel) {
                        targetPanel.classList.add('active');
                    }
                    
                    console.log(`üìã Cambiando a pesta√±a: ${targetTab}`);
                });
            });
        }

        // Generar vista general
        function generateOverviewContent() {
            const grid = $('#comparisonGrid');
            if(!grid) return;
            
            grid.innerHTML = demoSchools.map(school => `
                <div class="comparison-card">
                    <div class="comparison-header">
                        <h6>${school.name}</h6>
                        <div class="rating">${school.rating} ${school.stars}</div>
                    </div>
                    
                    <div class="quick-stats">
                        <div class="quick-stat">
                            <span class="quick-stat-value">${school.type}</span>
                            <span class="quick-stat-label">Tipo</span>
                        </div>
                        <div class="quick-stat">
                            <span class="quick-stat-value">${school.gender}</span>
                            <span class="quick-stat-label">G√©nero</span>
                        </div>
                        <div class="quick-stat">
                            <span class="quick-stat-value">${school.language}</span>
                            <span class="quick-stat-label">Idioma</span>
                        </div>
                        <div class="quick-stat">
                            <span class="quick-stat-value">${school.rating}</span>
                            <span class="quick-stat-label">Rating</span>
                        </div>
                    </div>
                    
                    <div class="comparison-highlights">
                        <span class="highlight-badge">${school.type}</span>
                        <span class="highlight-badge">${school.gender}</span>
                        <span class="highlight-badge">${school.language}</span>
                    </div>
                </div>
            `).join('');
        }

        // Generar comparaci√≥n acad√©mica
        function generateAcademicComparison(schools) {
            console.log('üéì Generando comparaci√≥n acad√©mica');
            const academicGrid = $('#academicGrid');
            if(!academicGrid) return;
            
            academicGrid.innerHTML = schools.map(school => `
                <div class="academic-card">
                    <div class="academic-card-header">
                        <div class="school-avatar">${school.name.charAt(0).toUpperCase()}</div>
                        <div class="school-basic-info">
                            <h6>${school.name}</h6>
                            <span class="school-type">${school.type}</span>
                        </div>
                    </div>
                    
                    <div class="academic-metrics-list">
                        <div class="academic-metric">
                            <div class="metric-icon excellence-icon">
                                <i class="bi bi-award"></i>
                            </div>
                            <div class="metric-info">
                                <span class="metric-name">Excelencia Acad√©mica</span>
                                <div class="metric-bar-container">
                                    <div class="metric-bar">
                                        <div class="metric-bar-fill" style="width: ${Math.random() * 40 + 60}%"></div>
                                    </div>
                                    <span class="metric-value">${(Math.random() * 40 + 60).toFixed(0)}%</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="academic-metric">
                            <div class="metric-icon performance-icon">
                                <i class="bi bi-graph-up"></i>
                            </div>
                            <div class="metric-info">
                                <span class="metric-name">Performance Estudiantil</span>
                                <div class="metric-bar-container">
                                    <div class="metric-bar">
                                        <div class="metric-bar-fill" style="width: ${Math.random() * 30 + 70}%"></div>
                                    </div>
                                    <span class="metric-value">${(Math.random() * 30 + 70).toFixed(0)}%</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="academic-metric">
                            <div class="metric-icon programs-icon">
                                <i class="bi bi-book"></i>
                            </div>
                            <div class="metric-info">
                                <span class="metric-name">Programas Especiales</span>
                                <div class="metric-bar-container">
                                    <div class="metric-bar">
                                        <div class="metric-bar-fill" style="width: ${Math.random() * 50 + 50}%"></div>
                                    </div>
                                    <span class="metric-value">${Math.floor(Math.random() * 10 + 5)}</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="academic-metric">
                            <div class="metric-icon facilities-icon">
                                <i class="bi bi-building"></i>
                            </div>
                            <div class="metric-info">
                                <span class="metric-name">Calidad Instalaciones</span>
                                <div class="metric-bar-container">
                                    <div class="metric-bar">
                                        <div class="metric-bar-fill" style="width: ${Math.random() * 30 + 70}%"></div>
                                    </div>
                                    <span class="metric-value">${(Math.random() * 30 + 70).toFixed(0)}%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="academic-highlights">
                        <div class="highlight-item">
                            <i class="bi bi-check-circle text-success"></i>
                            Acreditaci√≥n Nacional
                        </div>
                        <div class="highlight-item">
                            <i class="bi bi-trophy text-warning"></i>
                            Premios Acad√©micos
                        </div>
                        <div class="highlight-item">
                            <i class="bi bi-people text-info"></i>
                            Profesores Certificados
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Generar m√©tricas clave comparativas
        function generateKeyMetricsComparison(schools) {
            console.log('üìä Generando m√©tricas clave');
            
            // Barras de calificaci√≥n
            const ratingBars = $('#ratingBars');
            if(ratingBars) {
                ratingBars.innerHTML = schools.map(school => {
                    const rating = parseFloat(school.rating) * 20; // Convertir a porcentaje
                    return `
                        <div class="comparison-metric-row">
                            <div class="school-name-label">${school.name.substring(0, 20)}${school.name.length > 20 ? '...' : ''}</div>
                            <div class="metric-bar-wrapper">
                                <div class="metric-progress-bar">
                                    <div class="metric-progress-fill rating-fill" style="width: ${rating}%"></div>
                                </div>
                                <span class="metric-result">${school.rating}/5</span>
                            </div>
                        </div>
                    `;
                }).join('');
            }
            
            // Barras de nivel acad√©mico
            const levelBars = $('#levelBars');
            if(levelBars) {
                levelBars.innerHTML = schools.map(school => {
                    const level = Math.random() * 30 + 70;
                    return `
                        <div class="comparison-metric-row">
                            <div class="school-name-label">${school.name.substring(0, 20)}${school.name.length > 20 ? '...' : ''}</div>
                            <div class="metric-bar-wrapper">
                                <div class="metric-progress-bar">
                                    <div class="metric-progress-fill level-fill" style="width: ${level}%"></div>
                                </div>
                                <span class="metric-result">${level.toFixed(0)}%</span>
                            </div>
                        </div>
                    `;
                }).join('');
            }
            
            // Barras de programas
            const programBars = $('#programBars');
            if(programBars) {
                programBars.innerHTML = schools.map(school => {
                    const programs = Math.floor(Math.random() * 15) + 5;
                    const maxPrograms = 20;
                    const percentage = (programs / maxPrograms) * 100;
                    return `
                        <div class="comparison-metric-row">
                            <div class="school-name-label">${school.name.substring(0, 20)}${school.name.length > 20 ? '...' : ''}</div>
                            <div class="metric-bar-wrapper">
                                <div class="metric-progress-bar">
                                    <div class="metric-progress-fill programs-fill" style="width: ${percentage}%"></div>
                                </div>
                                <span class="metric-result">${programs}</span>
                            </div>
                        </div>
                    `;
                }).join('');
            }
        }

        // Generar comparaci√≥n de detalles
        function generateDetailsComparison(schools) {
            console.log('üìã Generando comparaci√≥n de detalles');
            const featuresComparison = $('#featuresComparison');
            if(!featuresComparison) return;
            
            const features = [
                'Matr√≠cula Anual',
                'Horario',
                'Transporte',
                'Cafeter√≠a',
                'Biblioteca',
                'Laboratorios',
                'Deportes',
                'Arte y M√∫sica',
                'Tecnolog√≠a',
                'Idiomas'
            ];
            
            featuresComparison.innerHTML = `
                <div class="comparison-table">
                    <div class="comparison-table-header">
                        <h6>Comparaci√≥n Detallada</h6>
                    </div>
                    ${features.map(feature => `
                        <div class="comparison-row">
                            <div class="feature-label">${feature}</div>
                            ${schools.map(school => `
                                <div class="feature-value">
                                    <span class="school-name-column">${school.name}</span>
                                    <span>${getRandomFeatureValue(feature)}</span>
                                </div>
                            `).join('')}
                        </div>
                    `).join('')}
                </div>
            `;
        }

        // Generar comparaci√≥n de servicios
        function generateServicesComparison(schools) {
            console.log('üîß Generando comparaci√≥n de servicios');
            const servicesGrid = $('#servicesComparisonGrid');
            if(!servicesGrid) return;
            
            const serviceCategories = [
                {
                    title: 'Servicios Acad√©micos',
                    icon: 'academic-services-icon',
                    services: ['Tutor√≠as', 'Biblioteca Digital', 'Laboratorios', 'Aulas Especializadas']
                },
                {
                    title: 'Actividades Extracurriculares',
                    icon: 'extracurricular-icon',
                    services: ['Deportes', 'Arte y M√∫sica', 'Clubes', 'Competencias']
                },
                {
                    title: 'Servicios de Apoyo',
                    icon: 'support-services-icon',
                    services: ['Psic√≥logo', 'Enfermer√≠a', 'Orientaci√≥n', 'Apoyo Acad√©mico']
                },
                {
                    title: 'Infraestructura',
                    icon: 'infrastructure-icon',
                    services: ['Cafeter√≠a', 'Transporte', 'Estacionamiento', 'Seguridad']
                }
            ];
            
            servicesGrid.innerHTML = serviceCategories.map(category => `
                <div class="service-category">
                    <div class="service-category-title">
                        <div class="category-icon ${category.icon}">
                            <i class="bi bi-gear"></i>
                        </div>
                        ${category.title}
                    </div>
                    <div class="service-list">
                        ${category.services.map(service => `
                            <div class="service-item">
                                <span class="service-name">${service}</span>
                                ${schools.map(school => `
                                    <div class="availability-indicator ${Math.random() > 0.3 ? 'available' : 'not-available'}">
                                        ${Math.random() > 0.3 ? '‚úì' : '‚úó'}
                                    </div>
                                `).join('')}
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        // Funci√≥n auxiliar para generar valores aleatorios
        function getRandomFeatureValue(feature) {
            const values = {
                'Matr√≠cula Anual': ['$8,500', '$12,000', '$15,500'],
                'Horario': ['7:30 AM - 3:00 PM', '8:00 AM - 3:30 PM', '7:45 AM - 2:45 PM'],
                'Transporte': ['Disponible', 'No disponible', 'Opcional'],
                'Cafeter√≠a': ['Completa', 'B√°sica', 'No disponible'],
                'Biblioteca': ['Digital + F√≠sica', 'Solo F√≠sica', 'Solo Digital'],
                'Laboratorios': ['3 Labs', '5 Labs', '2 Labs'],
                'Deportes': ['10+ Deportes', '5-9 Deportes', '1-4 Deportes'],
                'Arte y M√∫sica': ['Programa Completo', 'B√°sico', 'No disponible'],
                'Tecnolog√≠a': ['1:1 Dispositivos', 'Compartidos', 'Limitado'],
                'Idiomas': ['Espa√±ol + Ingl√©s', 'Solo Espa√±ol', 'Triling√ºe']
            };
            
            const options = values[feature] || ['Disponible', 'No disponible'];
            return options[Math.floor(Math.random() * options.length)];
        }
    </script>
</body>
</html>
